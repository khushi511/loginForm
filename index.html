import React, { Component } from 'react';
import './index.scss'

export default class Dropdown extends Component {
    state = {
        show: false
    }
    showStyle = {
        position: "relative",
        transform: "translate3d(0, 0, 0)",
        top: "unset",
        left: "unset",
        display: "block"
    }
    toggleDropdown = () => {
        this.setState({
            show: !this.state.show
        })
    }
    hideDropdownMenuOnOutsideClick = () => {
        if(this.state.show) {
            this.setState({
                show: !this.state.show
            })
        }
    }
    // componentDidMount() {
    //     document.addEventListener("click", this.hideDropdownMenuOnOutsideClick);
    // }
    // componentWillUnmount() {
    //     document.removeEventListener("click", this.hideDropdownMenuOnOutsideClick)
    // }
    render() {
        return (
            <div className="dropdown-wrapper">
            <div className="dropdown">
                <button className="btn btn-secondary dropdown-toggle" onClick={this.toggleDropdown} type="button"   aria-haspopup="true" aria-expanded="false">
                    Dropdown button
                </button>
                <div className={"dropdown-menu"} style={this.state.show ? this.showStyle: {}} >
                    <a className="dropdown-item" href="#">Action</a>
                    <a className="dropdown-item" href="#">Another action</a>
                    <a className="dropdown-item" href="#">Something else here</a>
                </div>
            </div>
            </div>
        )
    }
}
